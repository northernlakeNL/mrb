\hypertarget{main_8py}{}\doxysection{main.\+py File Reference}
\label{main_8py}\index{main.py@{main.py}}


This script performs object tracking using computer vision techniques and controls servo motors based on the tracked object\textquotesingle{}s position.  


\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{main_8py_a88f1666834bba82667cea2254764215d}{main.\+ema\+\_\+filter}} (actual, prev\+\_\+ema, alpha)
\begin{DoxyCompactList}\small\item\em The function calculates the exponential moving average (EMA) by combining the current value with the previous EMA using a specified alpha value. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{main_8py_a8f8879e6c92e3a035e2f74b08e08b33f}{main.\+pid\+\_\+controlx}} (actual, setpoint)
\begin{DoxyCompactList}\small\item\em The function implements a PID controller for controlling the position of a system in the x-\/axis. \end{DoxyCompactList}\item 
def \mbox{\hyperlink{main_8py_a25d9c09f93291a315b19a8e8c39ff5ca}{main.\+pid\+\_\+controly}} (actual, setpoint)
\begin{DoxyCompactList}\small\item\em The function implements a PID controller to calculate the output based on the difference between the actual value and the setpoint. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{main_8py_af98c296c3bd8018bfc55f84097ffc7d9}{main.\+servo\+\_\+pin\+\_\+1}} = 22
\begin{DoxyCompactList}\small\item\em The lines {\ttfamily servo\+\_\+pin\+\_\+1 = 22} and {\ttfamily servo\+\_\+pin\+\_\+2 = 27} are assigning the GPIO pin numbers to the variables {\ttfamily servo\+\_\+pin\+\_\+1} and {\ttfamily servo\+\_\+pin\+\_\+2}, respectively. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8py_a56ff381e6aac75ea614f8416f80ae27b}\label{main_8py_a56ff381e6aac75ea614f8416f80ae27b}} 
int {\bfseries main.\+servo\+\_\+pin\+\_\+2} = 27
\item 
\mbox{\Hypertarget{main_8py_a5c7abee1757b28fe6391c0b4a2322a3d}\label{main_8py_a5c7abee1757b28fe6391c0b4a2322a3d}} 
Button {\bfseries main.\+Buttonxl} = Button(23)
\item 
\mbox{\Hypertarget{main_8py_adae0fa590bcee7e789620e234cb9bbd4}\label{main_8py_adae0fa590bcee7e789620e234cb9bbd4}} 
Button {\bfseries main.\+Buttonxr} = Button(24)
\item 
\mbox{\Hypertarget{main_8py_a438dfbed9680597c8b9d01a3edfa6457}\label{main_8py_a438dfbed9680597c8b9d01a3edfa6457}} 
Button {\bfseries main.\+Buttonyl} = Button(25)
\item 
\mbox{\Hypertarget{main_8py_ae8e938c559ba3fd7e20ab02cc1a18730}\label{main_8py_ae8e938c559ba3fd7e20ab02cc1a18730}} 
Button {\bfseries main.\+Buttonyr} = Button(16)
\item 
\mbox{\Hypertarget{main_8py_a2a997ec6a9c6340f298d8ca1af5237bb}\label{main_8py_a2a997ec6a9c6340f298d8ca1af5237bb}} 
int {\bfseries main.\+setpointX} = 379
\item 
\mbox{\Hypertarget{main_8py_ad3aeb1a758cd0d7b926eb66a64da4f92}\label{main_8py_ad3aeb1a758cd0d7b926eb66a64da4f92}} 
int {\bfseries main.\+setpointY} = 222
\item 
\mbox{\Hypertarget{main_8py_a6eeeb388fdedea431faf88c3c083cd24}\label{main_8py_a6eeeb388fdedea431faf88c3c083cd24}} 
Pi\+GPIOFactory {\bfseries main.\+factory} = Pi\+GPIOFactory()
\item 
\mbox{\Hypertarget{main_8py_a8c12a0dd619d1f573c8ea55d3a6ba201}\label{main_8py_a8c12a0dd619d1f573c8ea55d3a6ba201}} 
Servo {\bfseries main.\+servo\+\_\+1} = Servo(22, pin\+\_\+factory=factory)
\item 
\mbox{\Hypertarget{main_8py_ad2116dbc6f6f9b7da83fd7206288cb22}\label{main_8py_ad2116dbc6f6f9b7da83fd7206288cb22}} 
Servo {\bfseries main.\+servo\+\_\+2} = Servo(27, pin\+\_\+factory=factory)
\item 
\mbox{\Hypertarget{main_8py_aeedfbc45f0d3cfb070db6270b4cee587}\label{main_8py_aeedfbc45f0d3cfb070db6270b4cee587}} 
int {\bfseries main.\+integralx} = 0
\item 
\mbox{\Hypertarget{main_8py_af62c5df68974c9ca940954631e56c694}\label{main_8py_af62c5df68974c9ca940954631e56c694}} 
int {\bfseries main.\+prev\+\_\+errorx} = 0
\item 
\mbox{\Hypertarget{main_8py_a9394fc91efbef0040f295fea369795bb}\label{main_8py_a9394fc91efbef0040f295fea369795bb}} 
int {\bfseries main.\+integraly} = 0
\item 
\mbox{\Hypertarget{main_8py_a9dd0ae89cdddbd29ccb1d856dbba4506}\label{main_8py_a9dd0ae89cdddbd29ccb1d856dbba4506}} 
int {\bfseries main.\+prev\+\_\+errory} = 0
\item 
\mbox{\Hypertarget{main_8py_a4a96edf8cddacfb0a264970739b33d9a}\label{main_8py_a4a96edf8cddacfb0a264970739b33d9a}} 
float {\bfseries main.\+alpha\+\_\+x} = 0.\+2
\item 
\mbox{\Hypertarget{main_8py_a964d5ddbb249c079340329487b6c8161}\label{main_8py_a964d5ddbb249c079340329487b6c8161}} 
float {\bfseries main.\+alpha\+\_\+y} = 0.\+2
\item 
\mbox{\Hypertarget{main_8py_a48829c6d470a16e0a5b2a8d1e7b61cd3}\label{main_8py_a48829c6d470a16e0a5b2a8d1e7b61cd3}} 
None {\bfseries main.\+center\+\_\+smoothed\+\_\+y} = None
\item 
\mbox{\Hypertarget{main_8py_a82faaf13616ac42acb8ca1a6667786fe}\label{main_8py_a82faaf13616ac42acb8ca1a6667786fe}} 
None {\bfseries main.\+center\+\_\+smoothed\+\_\+x} = None
\item 
\mbox{\Hypertarget{main_8py_ab0db8b853001e3ba065df74af727b234}\label{main_8py_ab0db8b853001e3ba065df74af727b234}} 
argparse {\bfseries main.\+ap} = argparse.\+Argument\+Parser()
\begin{DoxyCompactList}\small\item\em The code you provided is an infinite loop that performs object tracking using computer vision techniques and controls servo motors based on the tracked object\textquotesingle{}s position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8py_a1fdabe2077f86bd72dbb433530b1f192}\label{main_8py_a1fdabe2077f86bd72dbb433530b1f192}} 
{\bfseries main.\+help}
\item 
\mbox{\Hypertarget{main_8py_add4e4c9e96030cc8c55af23e1b21a1c1}\label{main_8py_add4e4c9e96030cc8c55af23e1b21a1c1}} 
{\bfseries main.\+type}
\item 
\mbox{\Hypertarget{main_8py_af65ea1f7cf2ee4911befba82862a89dc}\label{main_8py_af65ea1f7cf2ee4911befba82862a89dc}} 
{\bfseries main.\+int}
\item 
\mbox{\Hypertarget{main_8py_ad78f5fadc8e48752b92395e99eec4033}\label{main_8py_ad78f5fadc8e48752b92395e99eec4033}} 
{\bfseries main.\+default}
\item 
\mbox{\Hypertarget{main_8py_ad6731cbf0b90ddeff0c2ade6c87ab7b3}\label{main_8py_ad6731cbf0b90ddeff0c2ade6c87ab7b3}} 
vars {\bfseries main.\+args} = vars(ap.\+parse\+\_\+args())
\item 
\mbox{\Hypertarget{main_8py_a6566c636464ecf2fa299699461c3d825}\label{main_8py_a6566c636464ecf2fa299699461c3d825}} 
tuple {\bfseries main.\+orange\+Lower} = (0, 100, 100)
\item 
\mbox{\Hypertarget{main_8py_ae50a9dd51fe77d24c099481f00de29df}\label{main_8py_ae50a9dd51fe77d24c099481f00de29df}} 
tuple {\bfseries main.\+orange\+Upper} = (20, 255, 255)
\item 
\mbox{\Hypertarget{main_8py_a859b8108399f65adc798c979034fe8fd}\label{main_8py_a859b8108399f65adc798c979034fe8fd}} 
Video\+Stream {\bfseries main.\+vs} = Video\+Stream(src=0).start()
\item 
\mbox{\Hypertarget{main_8py_aef90aa5d9f981abe8801c5f9c508e000}\label{main_8py_aef90aa5d9f981abe8801c5f9c508e000}} 
{\bfseries main.\+else} \+:
\item 
\mbox{\Hypertarget{main_8py_ac350865734f81f75d7c4b1421dd15ac2}\label{main_8py_ac350865734f81f75d7c4b1421dd15ac2}} 
Video\+Stream {\bfseries main.\+frame} = vs.\+read()
\item 
\mbox{\Hypertarget{main_8py_a48bac6c3f2f5e381abb47f65aec4843f}\label{main_8py_a48bac6c3f2f5e381abb47f65aec4843f}} 
cv2 {\bfseries main.\+blurred} = cv2.\+Gaussian\+Blur(frame, (11, 11), 0)
\item 
\mbox{\Hypertarget{main_8py_a1ab2814363702aa04da32dd0ace34cd8}\label{main_8py_a1ab2814363702aa04da32dd0ace34cd8}} 
{\bfseries main.\+width}
\item 
\mbox{\Hypertarget{main_8py_a2b0bdd8320e857b9483772aae538352a}\label{main_8py_a2b0bdd8320e857b9483772aae538352a}} 
{\bfseries main.\+height}
\item 
\mbox{\Hypertarget{main_8py_af04ba8ef890fed11f397f9b4482f74bb}\label{main_8py_af04ba8ef890fed11f397f9b4482f74bb}} 
cv2 {\bfseries main.\+hsv} = cv2.\+cvt\+Color(blurred, cv2.\+COLOR\+\_\+\+BGR2\+HSV)
\item 
\mbox{\Hypertarget{main_8py_a46f8f23d2a00e49dee1fd1235fe7b273}\label{main_8py_a46f8f23d2a00e49dee1fd1235fe7b273}} 
cv2 {\bfseries main.\+mask} = cv2.\+in\+Range(hsv, orange\+Lower, orange\+Upper)
\item 
\mbox{\Hypertarget{main_8py_a306b049a0476811fb7ebbf5dcd500981}\label{main_8py_a306b049a0476811fb7ebbf5dcd500981}} 
cv2 {\bfseries main.\+cnts} = cv2.\+find\+Contours(mask.\+copy(), cv2.\+RETR\+\_\+\+EXTERNAL, cv2.\+CHAIN\+\_\+\+APPROX\+\_\+\+SIMPLE)
\item 
\mbox{\Hypertarget{main_8py_a218e5a6ce584b7ef787239f5668b3ca6}\label{main_8py_a218e5a6ce584b7ef787239f5668b3ca6}} 
None {\bfseries main.\+center} = None
\item 
\mbox{\Hypertarget{main_8py_ad9bda11f25120fd2a38c74a0f0f7b8bb}\label{main_8py_ad9bda11f25120fd2a38c74a0f0f7b8bb}} 
max {\bfseries main.\+c} = max(cnts, key=cv2.\+contour\+Area)
\item 
\mbox{\Hypertarget{main_8py_a60e13d417a5d0532f9a51a047f9fe4bd}\label{main_8py_a60e13d417a5d0532f9a51a047f9fe4bd}} 
{\bfseries main.\+radius}
\item 
\mbox{\Hypertarget{main_8py_a00c59e06c13c48a8ce991614fb04739d}\label{main_8py_a00c59e06c13c48a8ce991614fb04739d}} 
cv2 {\bfseries main.\+M} = cv2.\+moments(c)
\item 
\mbox{\Hypertarget{main_8py_aab6bf35ef73ee7fbefda262ab05f4c99}\label{main_8py_aab6bf35ef73ee7fbefda262ab05f4c99}} 
def {\bfseries main.\+anglex} = pid\+\_\+controlx(center\mbox{[}0\mbox{]}, setpointX)
\item 
\mbox{\Hypertarget{main_8py_a8318622b110a594f0d57a7d1782db172}\label{main_8py_a8318622b110a594f0d57a7d1782db172}} 
def {\bfseries main.\+angley} = pid\+\_\+controly(center\mbox{[}1\mbox{]}, setpointY)
\item 
\mbox{\Hypertarget{main_8py_ac113d328269f4ae52b78edb9de1a7107}\label{main_8py_ac113d328269f4ae52b78edb9de1a7107}} 
{\bfseries main.\+value}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This script performs object tracking using computer vision techniques and controls servo motors based on the tracked object\textquotesingle{}s position. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8py_a88f1666834bba82667cea2254764215d}\label{main_8py_a88f1666834bba82667cea2254764215d}} 
\index{main.py@{main.py}!ema\_filter@{ema\_filter}}
\index{ema\_filter@{ema\_filter}!main.py@{main.py}}
\doxysubsubsection{\texorpdfstring{ema\_filter()}{ema\_filter()}}
{\footnotesize\ttfamily def main.\+ema\+\_\+filter (\begin{DoxyParamCaption}\item[{}]{actual,  }\item[{}]{prev\+\_\+ema,  }\item[{}]{alpha }\end{DoxyParamCaption})}



The function calculates the exponential moving average (EMA) by combining the current value with the previous EMA using a specified alpha value. 


\begin{DoxyParams}{Parameters}
{\em actual} & The actual value at the current time step. \\
\hline
{\em prev\+\_\+ema} & The previous exponential moving average (EMA) value. \\
\hline
{\em alpha} & The alpha parameter is a smoothing factor that determines the weight given to the current value compared to the previous exponential moving average (EMA) value.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The exponential moving average (EMA) value. 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8py_a8f8879e6c92e3a035e2f74b08e08b33f}\label{main_8py_a8f8879e6c92e3a035e2f74b08e08b33f}} 
\index{main.py@{main.py}!pid\_controlx@{pid\_controlx}}
\index{pid\_controlx@{pid\_controlx}!main.py@{main.py}}
\doxysubsubsection{\texorpdfstring{pid\_controlx()}{pid\_controlx()}}
{\footnotesize\ttfamily def main.\+pid\+\_\+controlx (\begin{DoxyParamCaption}\item[{}]{actual,  }\item[{}]{setpoint }\end{DoxyParamCaption})}



The function implements a PID controller for controlling the position of a system in the x-\/axis. 


\begin{DoxyParams}{Parameters}
{\em actual} & The actual value of the system or process variable that you are trying to control. \\
\hline
{\em setpoint} & The setpoint is the desired value or target value that you want the actual value to reach or maintain.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The output of the PID control algorithm. 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8py_a25d9c09f93291a315b19a8e8c39ff5ca}\label{main_8py_a25d9c09f93291a315b19a8e8c39ff5ca}} 
\index{main.py@{main.py}!pid\_controly@{pid\_controly}}
\index{pid\_controly@{pid\_controly}!main.py@{main.py}}
\doxysubsubsection{\texorpdfstring{pid\_controly()}{pid\_controly()}}
{\footnotesize\ttfamily def main.\+pid\+\_\+controly (\begin{DoxyParamCaption}\item[{}]{actual,  }\item[{}]{setpoint }\end{DoxyParamCaption})}



The function implements a PID controller to calculate the output based on the difference between the actual value and the setpoint. 


\begin{DoxyParams}{Parameters}
{\em actual} & The actual value of the system or process variable that you are trying to control. \\
\hline
{\em setpoint} & The setpoint is the desired value or target value that you want the actual value to reach or maintain.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The output value, which is the result of the PID control calculation. 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{main_8py_af98c296c3bd8018bfc55f84097ffc7d9}\label{main_8py_af98c296c3bd8018bfc55f84097ffc7d9}} 
\index{main.py@{main.py}!servo\_pin\_1@{servo\_pin\_1}}
\index{servo\_pin\_1@{servo\_pin\_1}!main.py@{main.py}}
\doxysubsubsection{\texorpdfstring{servo\_pin\_1}{servo\_pin\_1}}
{\footnotesize\ttfamily int main.\+servo\+\_\+pin\+\_\+1 = 22}



The lines {\ttfamily servo\+\_\+pin\+\_\+1 = 22} and {\ttfamily servo\+\_\+pin\+\_\+2 = 27} are assigning the GPIO pin numbers to the variables {\ttfamily servo\+\_\+pin\+\_\+1} and {\ttfamily servo\+\_\+pin\+\_\+2}, respectively. 

These pin numbers are used to initialize the servo motors later in the code. 